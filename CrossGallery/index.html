<!DOCTYPE html>

<head>
  <!-- CrossCloud -->
  <script src="http://crosscloud.org/0.1.3/crosscloud.js"></script>
  <!-- JQuery -->
  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <!-- Fancybox -->
  <link rel="stylesheet" href="lib/fancybox/source/jquery.fancybox.css" type="text/css" media="screen" />
  <script type="text/JavaScript" src="lib/fancybox/source/jquery.fancybox.pack.js"></script>
  <link rel="stylesheet" href="lib/fancybox/source/helpers/jquery.fancybox-buttons.css" type="text/css" media="screen" />
  <script type="text/JavaScript" src="lib/fancybox/source/helpers/jquery.fancybox-buttons.js"></script>
  <script type="text/JavaScript" src="lib/fancybox/source/helpers/jquery.fancybox-media.js"></script>
  <link rel="stylesheet" href="lib/fancybox/source/helpers/jquery.fancybox-thumbs.css" type="text/css" media="screen" />
  <script type="text/JavaScript" src="lib/fancybox/source/helpers/jquery.fancybox-thumbs.js"></script>
  <!-- Handlebars -->
  <script src="lib/handlebars.js"></script>
  <!-- Semantic -->
  <link rel="stylesheet" type="text/css" href="lib/semantic-ui/css/semantic.min.css">
  <script src="lib/semantic-ui/javascript/semantic.min.js"></script>
  <!-- Moment.js -->
  <script src="lib/moment.js"></script>
  <!-- User -->
  <link rel="stylesheet" type="text/css" href="css/main.css">
  <script src="js/util.js"></script>
  <script src="js/main.js"></script>
  <script src="js/upload.js"></script>
  <script src="js/queries.js"></script>
</head>

<body>
  <input type="file" id="fileSelector" name="files[]" multiple capture="camera" />

  <!-- NAVBAR -->
  <div class="ui centered inverted black menu navbar">
    <!-- left -->
    <div class="left item">
      <div class='fleft'>
            <img src='img/icon.svg' class='svg' id='mainIcon'>
        </div>
        <div class='fright ntitle'>CrossGallery</div>
    </div>

    <!-- right -->
    <div class="right item">
      <div>
        <div class="black ui button" id="selectImage">
          Submit Image
        </div>
      </div>
    </div>
  </div>

  <!-- body -->
  <div class="body">
    <!-- image preview -->
    <div class="uploadImage">
      <div class="ui centered hidden upload form">
        <div class="two fields">
          <div class="ui field block input text">
            <input id="newUrl" placeholder="Enter a URL" type="text">
          </div>
          <div class="ui field block input text">
            <input id="captionText" placeholder="Enter a caption" type="text">
          </div>
        </div>
        <div id="cancelButton" class="ui inverted red wrap button">
          Cancel
        </div>
        <div id="uploadButton" class="ui inverted black wrap button">
          Submit Image
        </div>
      </div>
      <div class="centered" id="imagePreview">
      </div>
    </div>

    <!-- images -->
    <div id="gallery">
      
    </div>
  </div>



  <div class="hidden templates">
    <!-- MEDIA TEMPLATE -->
    <div class="mediaTemplate">
      <div class="ui segment wrap mediaWrapper" mediaId="{{{_id}}}">
        <div class="ui red deleteMedia button" mediaId="{{{_id}}}">
          Delete
        </div>
        <a class="ui {{fancybox}} wrap" rel="gallery" title="{{caption}}" href="#{{linkableId}}" mediaId="{{{_id}}}">
          <img class="thumb vcentered" src="{{{url}}}">

          <!-- fancybox content -->
          <div class="hidden">
            <div class="fancyContent" id="{{linkableId}}">
              <img src="{{{url}}}">
              <!-- comments -->

              <div class="ui comments" mediaId="{{{_id}}}">

              </div>
              
              <!-- submit comments -->
              <div class="class ui two comment submission fields">
                <div class="ui field input text">
                  <input type="text" placeholder="Write a comment...">
                </div>
                <div class="ui inverted black submit button field" mediaId = "{{{_id}}}">
                  submit
                </div>
              </div>

            </div>
          </div>
        </a>
      </div>
    </div>
  
    <!-- COMMENT TEMPLATE -->
    <div class="commentTemplate">
      <div class="comment wrapper" mediaId="{{{mediaId}}}" commentId="{{{_id}}}">
        <div class="content">
          <div class="fright">
            <a class="author blue-text" href="{{{_owner}}}">
              {{{owner}}}
            </a>
            <div class="ui label fright">
              {{timestamp}}
            </div>
          </div>
          <div class="text">
            <i class="ui hidden clickable red remove deleteComment icon" commentId="{{{_id}}}"></i>
            {{content}}
          </div>
        </div>
      </div>
    </div>

  </div>
</body>